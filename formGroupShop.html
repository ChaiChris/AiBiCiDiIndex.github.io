<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AiBiCiDi 入口</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
      integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <style type="text/tailwindcss">
      @theme {
        --color-clifford: #da373d;
      }

      /** {*/
      /*    border: 1px solid var(--color-clifford);*/
      /*}*/
    </style>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body class="bg-gray-100 font-sans restaurant-style">
    <!-- 導航欄 -->
    <nav class="bg-white shadow-md p-4">
      <div class="container mx-auto flex justify-between items-center">
        <a
          href="/index.html"
          class="flex items-center space-x-3 rtl:space-x-reverse"
        >
          <img src="/Logo.png" class="h-8" alt="Logo" />
          <!--            <span class="self-center text-2xl font-semibold whitespace-nowrap"></span>-->
        </a>
        <div class="space-x-4">
          <a href="/index.html" class="text-gray-600 hover:text-amber-400"
            >首頁</a
          >
          <a
            href="/formGroupEngineering.html"
            class="text-gray-600 hover:text-amber-400"
            >工程</a
          >
          <a href="#" class="text-amber-600">餐飲</a>
          <a
            href="/formGroupOther.html"
            class="text-gray-600 hover:text-amber-400"
            >其他人員打卡</a
          >
        </div>
      </div>
    </nav>

    <!-- 主內容 -->
    <main class="container mx-auto mt-8 p-4">
      <!-- 標籤頁元件 -->
      <div class="p-4 rounded-lg main-card">
        <!-- 標題 -->
        <h2 class="text-xl font-bold text-gray-600 mb-4 text-center">
          餐飲表單
        </h2>
        <!-- 標籤頁 -->
        <div class="flex border-b border-gray-200" id="tab-buttons">
          <button
            class="px-4 py-2 text-sm text-gray-600 hover:text-amber-500 focus:outline-none tab-button"
            data-tab="charlotte"
          >
            夏綠沁
          </button>
          <button
            class="px-4 py-2 text-sm text-gray-600 hover:text-amber-500 focus:outline-none tab-button"
            data-tab="park"
          >
            烤肉公園
          </button>
        </div>

        <!-- 標籤頁內容 -->
        <div id="tab-content" class="container mx-auto px-4 py-6">
          <!-- Charlotte Section -->
          <div id="charlotte" class="tab-pane">
            <!-- Outside Form Section -->
            <div class="rounded-lg p-4 mb-6 main-card">
              <div class="flex items-center border-b border-gray-200 pb-3 mb-4">
                <i class="bx bx-building text-blue-600 text-2xl mr-2"></i>
                <h2 class="text-xl md:text-2xl font-bold text-gray-800">
                  外場
                </h2>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Card 1 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-sun text-yellow-500 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        11:00 開班確認表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteOutsideForm1"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteOutsideForm1"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 2 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bx-sun text-orange-400 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        16:50 傍晚確認表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteOutsideForm2"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteOutsideForm2"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 3 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-moon text-indigo-600 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        20:00 收班檢查表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteOutsideForm3"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteOutsideForm3"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Inside Form Section -->
            <div class="bg-white rounded-lg shadow-md p-4 mb-6">
              <div class="flex items-center border-b border-gray-200 pb-3 mb-4">
                <i class="bx bx-food-menu text-green-600 text-2xl mr-2"></i>
                <h2 class="text-xl md:text-2xl font-bold text-gray-800">
                  內場
                </h2>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Card 1 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-sun text-yellow-500 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        10:50 開班確認表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteInsideForm1"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteInsideForm1"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 2 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-moon text-indigo-600 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        20:00 收班檢查表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteInsideForm2"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteInsideForm2"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 3 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bx-recycle text-green-500 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        食品丟棄登記
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteInsideForm3"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteInsideForm3"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 4 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i
                        class="bx bxs-user-badge text-purple-500 text-xl mr-2"
                      ></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        門店招待紀錄登記表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="charlotteInsideForm4"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_charlotteInsideForm4"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Park Section -->
          <div id="park" class="tab-pane hidden">
            <!-- Outside Form Section -->
            <div class="bg-white rounded-lg shadow-md p-4 mb-6">
              <div class="flex items-center border-b border-gray-200 pb-3 mb-4">
                <i class="bx bx-building text-blue-600 text-2xl mr-2"></i>
                <h2 class="text-xl md:text-2xl font-bold text-gray-800">
                  檢查表
                </h2>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Card 1 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-sun text-yellow-500 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        開班檢查表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="parkOutsideForm1"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_parkOutsideForm1"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 2 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bxs-moon text-indigo-600 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        收班檢查表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="parkOutsideForm2"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_parkOutsideForm2"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Inside Form Section -->
            <div class="bg-white rounded-lg shadow-md p-4 mb-6">
              <div class="flex items-center border-b border-gray-200 pb-3 mb-4">
                <i class="bx bx-food-menu text-green-600 text-2xl mr-2"></i>
                <h2 class="text-xl md:text-2xl font-bold text-gray-800">
                  其他表單
                </h2>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Card 3 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i class="bx bx-recycle text-green-500 text-xl mr-2"></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        食品丟棄登記
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="parkOutsideForm3"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_parkOutsideForm3"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>

                <!-- Card 4 -->
                <div
                  class="card-container bg-white border border-gray-200 rounded-lg shadow-sm hover:bg-gray-50"
                >
                  <div class="p-5">
                    <div class="flex items-center mb-3">
                      <i
                        class="bx bxs-user-badge text-purple-500 text-xl mr-2"
                      ></i>
                      <h3
                        class="card-title text-lg md:text-xl font-semibold text-gray-900"
                      >
                        門店招待紀錄登記表
                      </h3>
                    </div>
                    <button
                      type="button"
                      id="parkOutsideForm4"
                      class="urlButton mb-3 w-full mt-3 text-white bg-gradient-to-r from-blue-500 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200"
                    >
                      前往
                    </button>
                    <button
                      type="button"
                      id="qrcode_parkOutsideForm4"
                      class="qrcodeBtn text-gray-900 bg-white hover:bg-gray-100 border border-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
                    >
                      開啟 QrCode
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Qrcode  -->
      <div
        id="qrCodeModal"
        aria-hidden="true"
        class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
      >
        <div class="relative p-4 w-full max-w-md max-h-full">
          <!-- Modal content -->
          <div class="relative rounded-lg shadow-sm bg-gray-700">
            <!-- Modal header -->
            <div
              class="flex items-center justify-between p-4 md:p-5 border-b rounded-t border-gray-600"
            >
              <h3 class="text-lg font-semibold text-white">QR Code</h3>
              <button
                type="button"
                class="modalCloseBtn text-gray-400 bg-transparent rounded-lg text-sm h-8 w-8 ms-auto inline-flex justify-center items-center hover:bg-gray-600 hover:text-white"
                data-modal-toggle="qrCodeModal"
              >
                <svg
                  class="w-3 h-3"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 14 14"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"
                  />
                </svg>
                <span class="sr-only">Close modal</span>
              </button>
            </div>

            <!-- QrcodeDisplqy -->
            <div class="p-4 md:p-5">
              <p class="text-sm font-normal text-gray-300 mb-4">
                請掃描此 QRCode
              </p>
              <div
                class="flex justify-center items-center bg-white p-4 rounded-lg"
              >
                <div
                  id="qrCodeDisplay"
                  class="w-64 h-64 flex items-center justify-center"
                >
                  <div class="text-gray-400 text-center">
                    <svg
                      class="mx-auto w-16 h-16"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="1.5"
                        d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"
                      />
                    </svg>
                    <p class="mt-2">
                      載入中... （若是超過一分鐘請重新加載網頁）
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="flex items-center p-4 md:p-5 border-t rounded-b border-gray-600"
            >
              <p class="text-xs text-gray-400">請使用設備掃描來開啟表單</p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- 頁腳 -->
    <footer class="bg-gray-800 text-white p-4 mt-8">
      <div class="container mx-auto text-center">
        <p>&copy; AiBiCiDi Company</p>
      </div>
    </footer>

    <script>
      window.onload = () => {
        const tabButtons = document.querySelectorAll(".tab-button");
        const tabPanes = document.querySelectorAll(".tab-pane");

        function activateTab(tabButton) {
          tabButtons.forEach((btn) => {
            btn.classList.remove(
              "text-amber-500",
              "border-b-2",
              "border-amber-500"
            );
            btn.classList.add("text-gray-600");
          });

          tabPanes.forEach((pane) => pane.classList.add("hidden"));
          tabButton.classList.add(
            "text-amber-500",
            "border-b-2",
            "border-amber-500"
          );
          const tabId = tabButton.getAttribute("data-tab");
          document.getElementById(tabId).classList.remove("hidden");
        }

        tabButtons.forEach((button) => {
          button.addEventListener("click", function () {
            activateTab(this);
          });
        });
        activateTab(tabButtons[0]);

        const buttons = document.querySelectorAll(".urlButton");
        //https://docs.google.com/forms/d/e/1FAIpQLScKsmDO1hAKn7YCF5yzrmYIATwgLl-1jc7oK3fHwns-rXts-Q/viewform?usp=pp_url&entry.1841708988=2025-04-06&entry.327746563=%E7%83%A4%E8%82%89%E5%85%AC%E5%9C%92_%E8%8A%B1%E5%8D%9A%E5%BA%97
        // Centralized configuration object for all forms
        const formConfig = {
          charlotteInsideForm1: {
            targetID:
              "1FAIpQLSelOjEtktpLYY9CQEYqBAG0Jf26WSrNRJIihak66gjytmv7rQ",
            dateFieldId: "1379333657",
            extraParams: { "entry.622802333": "夏綠沁_敦北店" },
          },
          charlotteInsideForm2: {
            targetID:
              "1FAIpQLSc6VwhJfxENvNNlyxaF3GvHb6byavgUcuKDyEKbbY0uDBlNbw",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠蒂_敦北店" },
          },
          charlotteInsideForm3: {
            targetID:
              "1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA",
            dateFieldId: "1073674172",
            extraParams: { "entry.312426603": "夏綠沁_台北敦化北店" },
          },
          charlotteOutsideForm1: {
            targetID:
              "1FAIpQLScCisMOOgomYXcIu_NCVdiGIC6KqE0VaDTsJ8tssgGilMJkPg",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          charlotteOutsideForm2: {
            targetID:
              "1FAIpQLScpkfsOhKm9bF7iXppmGvQpSQkeOmgjTYE8w_-NuoavHeRHeQ",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          charlotteOutsideForm3: {
            targetID:
              "1FAIpQLScXfFlzFtapFMEKzX5HbzdOVEeM-5tzXY2sPo2Vx9pKxniAOA",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          charlotteInsideForm4: {
            //https://docs.google.com/forms/d/e/1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ/viewform?usp=pp_url&entry.341758986=%E5%A4%8F%E7%B6%A0%E6%B2%81_%E6%95%A6%E5%8C%97%E5%BA%97&entry.1883458535=2025-04-06
            targetID:
              "1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ",
            dateFieldId: "1883458535",
            extraParams: { "entry.341758986": "夏綠沁_敦北店" },
          },
          parkOutsideForm1: {
            //烤肉公園開班表
            targetID:
              "1FAIpQLScKsmDO1hAKn7YCF5yzrmYIATwgLl-1jc7oK3fHwns-rXts-Q",
            dateFieldId: "1841708988",
            extraParams: { "entry.327746563": "烤肉公園_花博店" },
          },
          parkOutsideForm2: {
            //收班檢查表(外場)
            //https://docs.google.com/forms/d/e/1FAIpQLSeHFgmjmrQVhUQ7E4WShk_tiKeu0D04on-6PqtcH2EJQPkQjQ/viewform?usp=pp_url&entry.797501360=2025-04-06&entry.1405148785=%E7%83%A4%E8%82%89%E5%85%AC%E5%9C%92_%E8%8A%B1%E5%8D%9A%E5%BA%97
            targetID:
              "1FAIpQLSeHFgmjmrQVhUQ7E4WShk_tiKeu0D04on-6PqtcH2EJQPkQjQ",
            dateFieldId: "797501360",
            extraParams: { "entry.1405148785": "烤肉公園_花博店" },
          },
          parkOutsideForm3: {
            //https://docs.google.com/forms/d/e/1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA/viewform?usp=pp_url&entry.1073674172=2025-04-06&entry.312426603=%E7%83%A4%E8%82%89%E5%85%AC%E5%9C%92_%E5%8F%B0%E5%8C%97%E8%8A%B1%E5%8D%9A%E5%BA%97
            targetID:
              "1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA",
            dateFieldId: "1073674172",
            extraParams: { "entry.312426603": "烤肉公園_台北花博店" },
          },
          parkOutsideForm4: {
            //https://docs.google.com/forms/d/e/1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ/viewform?usp=pp_url&entry.341758986=%E5%A4%8F%E7%B6%A0%E6%B2%81_%E6%95%A6%E5%8C%97%E5%BA%97&entry.1883458535=2025-04-06
            targetID:
              "1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ",
            dateFieldId: "1883458535",
            extraParams: { "entry.341758986": "烤肉公園_花博店" },
          },
        };

        const qrCodeConfig = {
          qrcode_charlotteInsideForm1: {
            targetID:
              "1FAIpQLSelOjEtktpLYY9CQEYqBAG0Jf26WSrNRJIihak66gjytmv7rQ",
            dateFieldId: "1379333657",
            extraParams: { "entry.622802333": "夏綠沁_敦北店" },
          },
          qrcode_charlotteInsideForm2: {
            targetID:
              "1FAIpQLSc6VwhJfxENvNNlyxaF3GvHb6byavgUcuKDyEKbbY0uDBlNbw",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠蒂_敦北店" },
          },
          qrcode_charlotteInsideForm3: {
            targetID:
              "1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA",
            dateFieldId: "1073674172",
            extraParams: { "entry.312426603": "夏綠沁_台北敦化北店" },
          },
          qrcode_charlotteOutsideForm1: {
            targetID:
              "1FAIpQLScCisMOOgomYXcIu_NCVdiGIC6KqE0VaDTsJ8tssgGilMJkPg",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          qrcode_charlotteOutsideForm2: {
            targetID:
              "1FAIpQLScpkfsOhKm9bF7iXppmGvQpSQkeOmgjTYE8w_-NuoavHeRHeQ",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          qrcode_charlotteOutsideForm3: {
            targetID:
              "1FAIpQLScXfFlzFtapFMEKzX5HbzdOVEeM-5tzXY2sPo2Vx9pKxniAOA",
            dateFieldId: "240322581",
            extraParams: { "entry.1524123082": "夏綠沁_敦北店" },
          },
          qrcode_charlotteInsideForm4: {
            //https://docs.google.com/forms/d/e/1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ/viewform?usp=pp_url&entry.341758986=%E5%A4%8F%E7%B6%A0%E6%B2%81_%E6%95%A6%E5%8C%97%E5%BA%97&entry.1883458535=2025-04-06
            targetID:
              "1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ",
            dateFieldId: "1883458535",
            extraParams: { "entry.341758986": "夏綠沁_敦北店" },
          },
          qrcode_parkOutsideForm1: {
            //烤肉公園開班表
            targetID:
              "1FAIpQLScKsmDO1hAKn7YCF5yzrmYIATwgLl-1jc7oK3fHwns-rXts-Q",
            dateFieldId: "1841708988",
            extraParams: { "entry.327746563": "烤肉公園_花博店" },
          },
          qrcode_parkOutsideForm2: {
            //收班檢查表(外場)
            //https://docs.google.com/forms/d/e/1FAIpQLSeHFgmjmrQVhUQ7E4WShk_tiKeu0D04on-6PqtcH2EJQPkQjQ/viewform?usp=pp_url&entry.797501360=2025-04-06&entry.1405148785=%E7%83%A4%E8%82%89%E5%85%AC%E5%9C%92_%E8%8A%B1%E5%8D%9A%E5%BA%97
            targetID:
              "1FAIpQLSeHFgmjmrQVhUQ7E4WShk_tiKeu0D04on-6PqtcH2EJQPkQjQ",
            dateFieldId: "797501360",
            extraParams: { "entry.1405148785": "烤肉公園_花博店" },
          },
          qrcode_parkOutsideForm3: {
            //https://docs.google.com/forms/d/e/1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA/viewform?usp=pp_url&entry.1073674172=2025-04-06&entry.312426603=%E7%83%A4%E8%82%89%E5%85%AC%E5%9C%92_%E5%8F%B0%E5%8C%97%E8%8A%B1%E5%8D%9A%E5%BA%97
            targetID:
              "1FAIpQLSemhR69ZVWNbmV8O6uUZmk6cE_AruTchtc_yLHORtndQJb6XA",
            dateFieldId: "1073674172",
            extraParams: { "entry.312426603": "烤肉公園_台北花博店" },
          },
          qrcode_parkOutsideForm4: {
            //https://docs.google.com/forms/d/e/1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ/viewform?usp=pp_url&entry.341758986=%E5%A4%8F%E7%B6%A0%E6%B2%81_%E6%95%A6%E5%8C%97%E5%BA%97&entry.1883458535=2025-04-06
            targetID:
              "1FAIpQLSdXM45lnsjM8erI8orDfvh3OO2JGNSlMqWqEPdn6YY8J7i8NQ",
            dateFieldId: "1883458535",
            extraParams: { "entry.341758986": "烤肉公園_花博店" },
          },
        };

        // Constants
        const baseUrlPrefix = "https://docs.google.com/forms/d/e/";
        const baseUrlSuffix = "/viewform?usp=pp_url&entry.";

        // Get today's date in YYYY-MM-DD format
        function getTodayFormattedDate() {
          const today = new Date();
          return today.toISOString().split("T")[0];
        }

        // Open URL in new tab
        function openInNewTab(url) {
          window.open(url, "_blank");
        }

        // Add event listeners to all buttons
        buttons.forEach((button) => {
          button.addEventListener("click", function () {
            const buttonId = this.id;
            const config = formConfig[buttonId];

            if (config) {
              const todayDate = getTodayFormattedDate();

              // Build the URL with date parameter
              let finalUrl = `${baseUrlPrefix}${config.targetID}${baseUrlSuffix}${config.dateFieldId}=${todayDate}`;

              // Add any extra parameters
              if (config.extraParams) {
                for (const [key, value] of Object.entries(config.extraParams)) {
                  finalUrl += `&${key}=${encodeURIComponent(value)}`;
                }
              }

              openInNewTab(finalUrl);
            } else {
              alert("錯誤：表單ID為空");
            }
          });
        });

        const qrBtn = document.querySelectorAll(".qrcodeBtn");
        const qrCodeModal = document.getElementById("qrCodeModal");
        const modalCloseBtn = document.querySelector(".modalCloseBtn");
        qrBtn.forEach((el) => {
          el.addEventListener("click", function () {
            const buttonId = this.id;
            const config = qrCodeConfig[buttonId];
            if (config) {
              const todayDate = getTodayFormattedDate();

              // Build the URL with date parameter
              let finalUrl = `${baseUrlPrefix}${config.targetID}${baseUrlSuffix}${config.dateFieldId}=${todayDate}`;
              loadQrCode(finalUrl);

              // Add any extra parameters
              if (config.extraParams) {
                for (const [key, value] of Object.entries(config.extraParams)) {
                  finalUrl += `&${key}=${encodeURIComponent(value)}`;
                  loadQrCode(finalUrl);
                }
              }
            } else {
              alert("錯誤：表單ID為空");
            }
            qrCodeModal.classList.remove("hidden");
          });
        });

        function loadQrCode(url) {
          const qrCodeDisplayModal = document.getElementById("qrCodeDisplay");
          qrCodeDisplayModal.innerHTML = "";
          console.log(url);
          var qrcode = new QRCode(qrCodeDisplayModal, {
            text: url,
            width: 250,
            height: 250,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.M,
          });
        }

        modalCloseBtn.addEventListener("click", () => {
          qrCodeModal.classList.add("hidden");
        });
      };
    </script>
  </body>
</html>
